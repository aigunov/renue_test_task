# üîé –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ CSV ‚Äî Renue Test Task

## üìÑ –û–ø–∏—Å–∞–Ω–∏–µ

–ö–æ–Ω—Å–æ–ª—å–Ω–æ–µ Java-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø–æ–∑–≤–æ–ª—è—é—â–µ–µ **–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ** –∏—Å–∫–∞—Ç—å —Å—Ç—Ä–æ–∫–∏ –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–º—É –ø—Ä–µ—Ñ–∏–∫—Å—É –≤ **–ª—é–±–æ–º —Å—Ç–æ–ª–±—Ü–µ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ CSV-—Ñ–∞–π–ª–∞**.  
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—ã–ª–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –∫–∞–∫ —Ç–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ, –Ω–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç **—Ä–µ–∞–ª—å–Ω—ã–π, –±—ã—Å—Ç—Ä—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **—Å–∂–∞—Ç–æ–≥–æ –ø—Ä–µ—Ñ–∏–∫—Å–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ (Compressed Trie)**.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–°–æ–±–µ—Ä–∏—Ç–µ –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ `airports-search.jar`, –∑–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

```bash
java -Xmx7m -jar airports-search.jar \
  --data airports.csv \
  --indexed-column-id 6 \
  --input-file input.txt \
  --output-file result.json
```

### –ê—Ä–≥—É–º–µ–Ω—Ç—ã:

| –ê—Ä–≥—É–º–µ–Ω—Ç               | –û–ø–∏—Å–∞–Ω–∏–µ                                                        |
|------------------------|-----------------------------------------------------------------|
| `--data`               | –ü—É—Ç—å –∫ CSV-—Ñ–∞–π–ª—É —Å –¥–∞–Ω–Ω—ã–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `airports.csv`)           |
| `--indexed-column-id`  | –ù–æ–º–µ—Ä –∫–æ–ª–æ–Ω–∫–∏ (—Å 1), –ø–æ –∫–æ—Ç–æ—Ä–æ–π –±—É–¥–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è –ø–æ–∏—Å–∫       |
| `--input-file`         | –§–∞–π–ª —Å–æ —Å–ø–∏—Å–∫–æ–º –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞ (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Å—Ç—Ä–æ–∫—É)      |
| `--output-file`        | –§–∞–π–ª, –≤ –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON         |

---

## ‚öôÔ∏è –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. CSV-—Ñ–∞–π–ª –ø–∞—Ä—Å–∏—Ç—Å—è, –∏ –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞ –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è.
2. –°—Ç—Ä–æ–∏—Ç—Å—è **Compressed Trie**, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –≤—Å–µ —Å—Ç—Ä–æ–∫–∏, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–µ—Ñ–∏–∫—Å–∞.
3. –ö–∞–∂–¥—ã–π –ø—Ä–µ—Ñ–∏–∫—Å –∏–∑ `input.txt` –∏—â–µ—Ç—Å—è –≤ –¥–µ—Ä–µ–≤–µ, –∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –≤—Ä–µ–º—è –ø–æ–∏—Å–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ JSON.

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- **`CompressedTrie`** ‚Äî —Å–∂–∞—Ç–æ–µ –ø—Ä–µ—Ñ–∏–∫—Å–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞.
- **`CsvParser`** ‚Äî –ø–∞—Ä—Å–∏—Ç —Å—Ç—Ä–æ–∫–∏ CSV –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è.
- **`AirportSearch`** ‚Äî –≥–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å, –∑–∞–ø—É—Å–∫–∞—é—â–∏–π –æ–±—Ä–∞–±–æ—Ç–∫—É.
- **`SearchResult`** ‚Äî –º–æ–¥–µ–ª—å, –æ–ø–∏—Å—ã–≤–∞—é—â–∞—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–¥–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.
- **`JsonReportVisitor`** ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ JSON.
- **`ReportVisitor`** ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –æ—Ç—á—ë—Ç–æ–≤.
- **`ResponseFormatter`** ‚Äî –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç –≤ –Ω—É–∂–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç.

---

## üß† –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

- **Visitor** ‚Äî –¥–ª—è –≥–∏–±–∫–æ–≥–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç—á—ë—Ç–æ–≤ (JSON –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –¥—Ä—É–≥–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã).
- **Strategy/Command** ‚Äî –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ –∏–ª–∏ –º–µ—Ç–æ–¥ —á—Ç–µ–Ω–∏—è.

---

## ‚úÖ –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

```json
[
  {
    "request": "SVO",
    "result": [25],
    "searchTime": 1
  },
  {
    "request": "Dom",
    "result": [57],
    "searchTime": 2
  }
]
```

---

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Java 17+
- Maven (–¥–ª—è —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞)

---

## üí° –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –±–æ–ª—å—à–∏–º CSV-—Ñ–∞–π–ª–∞–º
- –ú–∞–ª–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ (–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞—Ç—å —Å `-Xmx7m`)
- –†–∞—Å—à–∏—Ä—è–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º—ã–π –≤—ã–≤–æ–¥

---

## üì¨ –°–≤—è–∑—å

–ê–≤—Ç–æ—Ä ‚Äî [–ê–π–≥—É–Ω–æ–≤ –®–∞–ø–∏](https://github.com/aigunov)  
üìß Email: aigunovshapi@yandex.ru  
üì± Telegram: [@aigunov](https://t.me/aigunov)

---

## üèÅ TODO / –ò–¥–µ–∏ –¥–ª—è –¥–æ—Ä–∞–±–æ—Ç–∫–∏

- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥—Ä—É–≥–∏—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –≤—ã–≤–æ–¥–∞ (CSV, XML)
- [ ] –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥/–ø–æ–∏—Å–∫
- [ ] REST API-–æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞
